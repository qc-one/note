<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="./base/react.min.js"></script>
    <script src="./base/react-dom.min.js"></script>
    <script src="./base/browser.min.js"></script>
</head>
<style>
   .panel button{
       margin: 0px 5px;
   }
   .list-group{
       width: 40%;
       float: left;
   }
</style>
<body>

    <div id="app" class="container"> 

            
       
    </div> 
    
    

    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/babel">
    // http://api.douban.com/v2/movie/in_theaters
        //循环虚拟dom用map，事件处理函数传参用bind
       var MovieBox = React.createClass({
           //准备挂载城市信息在属性上,方便与更新维护
           getDefaultProps () {
               return {
                   citys: [
                       {id: 1, title: '北京'},
                       {id: 2, title: '上海'},
                       {id: 3, title: '广州'},
                       {id: 4, title: '大同'}
                   ]
               }
           },
           getInitialState(){
           		return{
           			activeId:1
           		}
           },
           changeActiveId(id){
           		let that = this
           		return function(){
           			that.setState({activeId : id})
           		}
           },
           render () {
               let { citys } = this.props
               let { activeId } = this.state
               return (
                    <div className="panel panel-primary">
                        <div className="panel-heading">
                            {
                               citys.map(item => {
                                   return <button onClick={this.changeActiveId(item.id)} className={"btn btn-"+(activeId === item.id ? "danger" : "default")} key = {item.id}>{item.title}</button>
                               })
                            }
                            
                           
                        </div>
                        <MovieList />
                    </div>
               )
           }
       })
       var MovieList = React.createClass({
           render () {
               return (
                    
                    <div className="panel-body">
                        <ul className="list-group">
                            <li className="list-group-item">3213213</li>
                        </ul>
                    </div>

               )
           }
       })

        ReactDOM.render(<MovieBox  />,document.getElementById('app'))

    </script>
</body>
</html>